import { API_CONFIG } from '../config/constants';\n\nexport interface ApiResponse<T = any> {\n  success: boolean;\n  data?: T;\n  error?: string;\n  status?: number;\n}\n\nexport class ApiHelper {\n  private static async fetchWithRetry(\n    url: string, \n    options: RequestInit = {}, \n    retries = API_CONFIG.RETRY_ATTEMPTS\n  ): Promise<Response> {\n    try {\n      const controller = new AbortController();\n      const timeoutId = setTimeout(() => controller.abort(), API_CONFIG.TIMEOUT);\n      \n      const response = await fetch(url, {\n        ...options,\n        signal: controller.signal\n      });\n      \n      clearTimeout(timeoutId);\n      return response;\n    } catch (error) {\n      if (retries > 0 && error instanceof Error && error.name !== 'AbortError') {\n        console.log(`Retrying request to ${url}, attempts left: ${retries - 1}`);\n        await new Promise(resolve => setTimeout(resolve, 1000));\n        return this.fetchWithRetry(url, options, retries - 1);\n      }\n      throw error;\n    }\n  }\n\n  static async get<T = any>(endpoint: string): Promise<ApiResponse<T>> {\n    try {\n      const response = await this.fetchWithRetry(endpoint);\n      \n      if (!response.ok) {\n        return {\n          success: false,\n          error: `HTTP ${response.status}: ${response.statusText}`,\n          status: response.status\n        };\n      }\n      \n      const data = await response.json();\n      return { success: true, data };\n    } catch (error) {\n      return {\n        success: false,\n        error: error instanceof Error ? error.message : 'Network error'\n      };\n    }\n  }\n\n  static async post<T = any>(endpoint: string, body: any): Promise<ApiResponse<T>> {\n    try {\n      const response = await this.fetchWithRetry(endpoint, {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify(body)\n      });\n      \n      if (!response.ok) {\n        return {\n          success: false,\n          error: `HTTP ${response.status}: ${response.statusText}`,\n          status: response.status\n        };\n      }\n      \n      const data = await response.json();\n      return { success: true, data };\n    } catch (error) {\n      return {\n        success: false,\n        error: error instanceof Error ? error.message : 'Network error'\n      };\n    }\n  }\n}